{:title "Domain Modeling Made Functional"
 :layout :post
 :tags  ["books" "programming" "F#"]}

Отличная книга и по основной теме и по DDD. Легкое и последовательное изложение с отличным балансом повторения и краткости. Важный нюанс - все примеры кода на F#, и всё таки в рассматриваемых решениях много его специфики. На Haskell и Scala думаю решения вполне можно повторить, хотя это будет неканоничный для этих языков стиль. Для других языков надо творчески переосмысливать. Вся книга прошита одним совсем не маленьким сквозным примером - системой биллинга для магазина. Пример плавно развивает от абстрактной модели до фрагментов кода, готового процесса с минимальным набором зависимостей.

Первая пара глава книги вводит в DDD, в частности в организационные аспекты, терминологию. Мне она показалась очень удачной и даже существенно лучшей многих других материалов. То что автор пытался сделать минимальное рабочее введение в тему пошло материалу на пользу. Отдельная глава выделена на концепцию контекста. Тому как их организовывать в контексте функциональных языков и как логически устраивать коммуникацию между контекстами.

Вторая часть посвящёна непосредственно моделированию в функциональных языках. Начинает естественно с использования типов структур и сигнатур функций. Дальше в двух главах рассматриваются методы отображения домена в типы и выражения некоторых ограничений в типах, варианты представления инвариантов и бизнес-правил. Выражение ошибок в сигнатура и стратегии их обработки также обсуждаются, но почему то уже в середине следующей части. Заканчивается эта часть идеей пайплайна, тут в основном рассматриваются подходы к согласованию сигнатур и глава сильно F# специфична.

Третья часть уже непосредственно про реализацию. Включает главы про функции высшего прядка и варианты использования их как интерфейсов разных процессов и подпроцессов а так же как аналог dependency injection. Главы про сериализацию и персистентность. Заканчивает довольно объёмными примерами адаптации дизайна под новые требования, где обсуждает параллельно всю цепочку от формулировки запроса потребителем до обновления кода.

Мне в книге понравились:

* Итеративный подход к разработке моделей и кода.
* Довольно реалистичный пример.
* Доведение примера до стадии конкретный код компонента.

Правда эти особенности порождают и явные недостатки. Из за итеративности надо вспоминать что было несколько десятков страниц назад, и листать книгу туда сюда в поисках для сравнения разных версий. Реалистичный пример пример значит много кода и фичей, без хорошей памяти о которых трудно понять о чём толкует автор. Большое количество завершённого кода подразумевает много возни с особенностями F#, в которые тоже приходится вникать. Не смотря на это, книга в общем очень полезна и в меру сложна в восприятии, рекомендую.
 